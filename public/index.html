<!DOCTYPE html>
<html ng-app="FileApp">
<head>

  <title></title>
  <script src="js/angular.min.js"></script>
  <script src="js/angular-table.min.js"></script>
  <script src="js/ui-bootstrap-tpls-0.13.0.js"></script>
  <script src="js/socket.io.js"></script>
  <script src="js/script.js"></script>
  <link rel="stylesheet" href="css/bootstrap.min.css">

</head>
<body ng-controller="MainController">
  <div class="container">

    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <ul class="nav navbar-nav navbar-right">
          <li>
            <a href ng-click="openUploadModal()">
              <span class="glyphicon glyphicon-upload"></span>
              Upload
            </a>
          </li>
        </ul>
      </div><!-- /.container-fluid -->
    </nav>

    <div class="row">
      <div class="col-md-12">

        <div class="panel panel-default">
          <div class="panel-heading">Uploads</div>

          <table class="table" at-table at-paginated at-list="filesList" at-config="tableConfig">
          <thead></thead>
          <tbody>
            <tr>
              <td at-implicit at-sortable at-attribute="name" width="30%"></td>
              <td at-implicit at-sortable at-attribute="channel" width="30%"></td>
              <td at-implicit at-sortable at-attribute="tags" width="30%"></td>
              <td at-title="Actions" width="10%">
                <a target="_blank" href="file/{{ item.transaction }}" title="Open">
                  <span class="glyphicon glyphicon-eye-open"></span>
                </a>
                <a href ng-click="openExtendModal()" title="Extend">
                  <span class="glyphicon glyphicon-time"></span>
                </a>
              </td>
            </tr>
          </tbody>
          </table>

          <at-pagination at-list="filesList" at-config="tableConfig"></at-pagination>

      </div>
    </div>

  </div>

  <script type="text/ng-template" id="uploadModal.html">
    <div class="modal-header">
      <h3 class="modal-title">File Upload</h3>
    </div>
    <form id="uploadForm" class="modal-body">
      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="fileName" />
      </div>
      <div class="form-group">
        <label for="name">Description</label>
        <textarea class="form-control" id="fileDescription"></textarea>
      </div>
      <div class="form-group">
        <label for="name">Channel</label>
        <input type="text" class="form-control" id="fileChannel" />
      </div>
      <div class="form-group">
        <label for="name">Tags</label>
        <input type="text" class="form-control" id="fileTags" />
      </div>
      <div class="form-group">
        <label for="name">File (max. ~42k)</label>
        <input type="file" class="form-control" id="fileFile" />
      </div>
      <div class="form-group">
        <label for="name">Passphrase</label>
        <input type="passphrase" class="form-control" id="filePassphrase" />
      </div>

    </form>
    <div class="modal-footer">
     <button class="btn btn-primary" ng-click="ok()">OK</button>
     <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
   </div>
 </script>

  <script type="text/ng-template" id="extendModal.html">
    <div class="modal-header">
      <h3 class="modal-title">Extend</h3>
    </div>
    <form id="extendForm" class="modal-body">
      <p>Sorry not implemented yet!</p>
    </form>
    <div class="modal-footer">
     <button class="btn btn-primary" ng-click="ok()">OK</button>
     <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
   </div>

  </script>
</body>
</html>
